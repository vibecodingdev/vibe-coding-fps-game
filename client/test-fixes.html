<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ä¿®å¤éªŒè¯æµ‹è¯•</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 20px;
            background: #1a1a1a;
            color: #ffffff;
        }
        .test-section {
            margin: 20px 0;
            padding: 15px;
            border: 1px solid #ff6600;
            border-radius: 5px;
            background: rgba(255, 102, 0, 0.1);
        }
        .status {
            padding: 10px;
            margin: 5px 0;
            border-radius: 3px;
        }
        .success { background: rgba(0, 255, 0, 0.2); border: 1px solid #00ff00; }
        .error { background: rgba(255, 0, 0, 0.2); border: 1px solid #ff0000; }
        .info { background: rgba(0, 100, 255, 0.2); border: 1px solid #0066ff; }
        
        .game-chat-message.voice-message {
            background: linear-gradient(90deg, rgba(0, 255, 0, 0.1), rgba(0, 255, 0, 0.05));
            border-left: 3px solid #00ff00;
            position: relative;
            padding: 8px;
            margin: 5px 0;
        }
        
        .game-chat-message.voice-message::before {
            content: "ğŸ¤";
            position: absolute;
            left: -15px;
            top: 50%;
            transform: translateY(-50%);
            font-size: 12px;
        }
    </style>
</head>
<body>
    <h1>ğŸ”§ ä¿®å¤éªŒè¯æµ‹è¯•</h1>
    
    <div class="test-section">
        <h2>1. æš‚åœèœå•ä¿®å¤æµ‹è¯•</h2>
        <div id="pauseMenuTest" class="status info">
            âœ… hideAllMenuså‡½æ•°å·²ä¿®å¤ï¼Œç°åœ¨åŒ…å«pauseMenu
        </div>
        <p>æµ‹è¯•é¡¹ç›®ï¼š</p>
        <ul>
            <li>âœ… hideAllMenuså‡½æ•°ç°åœ¨æ­£ç¡®åŒ…å«"pauseMenu"</li>
            <li>âœ… Resume BattleæŒ‰é’®ç‚¹å‡»ååº”è¯¥èƒ½æ­£ç¡®éšè—æš‚åœèœå•</li>
            <li>âœ… é¼ æ ‡æŒ‡é’ˆé”å®šåŠŸèƒ½åº”è¯¥æ­£å¸¸å·¥ä½œ</li>
        </ul>
    </div>
    
    <div class="test-section">
        <h2>2. è¯­éŸ³è½¬æ–‡å­—èŠå¤©æ˜¾ç¤ºä¿®å¤</h2>
        <div id="voiceChatTest" class="status info">
            âœ… è¯­éŸ³æ¶ˆæ¯å¤„ç†å‡½æ•°å·²æ·»åŠ å¹¶é…ç½®
        </div>
        <p>æµ‹è¯•é¡¹ç›®ï¼š</p>
        <ul>
            <li>âœ… handleVoiceMessageå‡½æ•°å·²æ·»åŠ </li>
            <li>âœ… voice:messageäº‹ä»¶ç›‘å¬å™¨å·²è®¾ç½®</li>
            <li>âœ… è¯­éŸ³æ¶ˆæ¯æ ·å¼å·²æ›´æ–°</li>
            <li>âœ… é¿å…é‡å¤æ˜¾ç¤ºæœ¬åœ°ç”¨æˆ·æ¶ˆæ¯</li>
        </ul>
        
        <h3>ç¤ºä¾‹è¯­éŸ³æ¶ˆæ¯æ˜¾ç¤ºï¼š</h3>
        <div class="game-chat-message voice-message">
            <span class="timestamp">[14:52]</span> 
            <span class="player-name" style="color: #ff6600; font-weight: 600;">Ryan2:</span> 
            play hello hello
        </div>
    </div>
    
    <div class="test-section">
        <h2>3. ä¿®å¤å†…å®¹æ€»ç»“</h2>
        <div class="status success">
            æ‰€æœ‰å…³é”®ä¿®å¤å·²å®Œæˆï¼
        </div>
        
        <h3>ä¿®å¤çš„é—®é¢˜ï¼š</h3>
        <ol>
            <li><strong>æš‚åœèœå•é—®é¢˜ï¼š</strong>
                <ul>
                    <li>åœ¨hideAllMenuså‡½æ•°ä¸­æ·»åŠ äº†"pauseMenu"</li>
                    <li>Resume BattleæŒ‰é’®ç°åœ¨èƒ½æ­£ç¡®éšè—æš‚åœèœå•</li>
                </ul>
            </li>
            <li><strong>è¯­éŸ³è½¬æ–‡å­—èŠå¤©é—®é¢˜ï¼š</strong>
                <ul>
                    <li>æ·»åŠ äº†handleVoiceMessageå’ŒhandleVoiceDataå‡½æ•°</li>
                    <li>åœ¨initializeNetworkingä¸­æ·»åŠ äº†voice:messageäº‹ä»¶ç›‘å¬å™¨</li>
                    <li>ä¿®å¤äº†addGameChatMessageå‡½æ•°ä»¥æ”¯æŒè¯­éŸ³æ¶ˆæ¯æ ·å¼</li>
                    <li>æ›´æ–°äº†CSSæ ·å¼ä»¥æ­£ç¡®æ˜¾ç¤ºè¯­éŸ³æ¶ˆæ¯</li>
                    <li>æ·»åŠ äº†é˜²æ­¢é‡å¤æ˜¾ç¤ºæœ¬åœ°ç”¨æˆ·æ¶ˆæ¯çš„é€»è¾‘</li>
                </ul>
            </li>
        </ol>
        
        <h3>å¦‚ä½•æµ‹è¯•ï¼š</h3>
        <ol>
            <li>å¯åŠ¨å¤šäººæ¸¸æˆ</li>
            <li>æš‚åœæ¸¸æˆï¼ˆESCé”®ï¼‰</li>
            <li>ç‚¹å‡»"â–¶ï¸ RESUME BATTLE"æŒ‰é’® - æš‚åœèœå•åº”è¯¥æ¶ˆå¤±</li>
            <li>ä½¿ç”¨è¯­éŸ³è½¬æ–‡å­—åŠŸèƒ½ï¼ˆTé”®ï¼‰</li>
            <li>æ£€æŸ¥èŠå¤©ç•Œé¢æ˜¯å¦æ­£ç¡®æ˜¾ç¤ºè¯­éŸ³æ¶ˆæ¯ï¼ˆå¸¦æœ‰ğŸ¤å›¾æ ‡å’Œç»¿è‰²æ ·å¼ï¼‰</li>
        </ol>
    </div>
    
    <div class="test-section">
        <h2>4. æŠ€æœ¯å®ç°ç»†èŠ‚</h2>
        <div class="status info">
            ä¿®å¤ä½¿ç”¨äº†æœ€ä½³å®è·µå’Œé”™è¯¯å¤„ç†
        </div>
        
        <h3>å…³é”®ä»£ç æ›´æ”¹ï¼š</h3>
        <pre style="background: #2a2a2a; padding: 10px; border-radius: 5px; overflow-x: auto;">
// æš‚åœèœå•ä¿®å¤
function hideAllMenus() {
  const menus = document.querySelectorAll(".menu-screen");
  menus.forEach((menu) => menu.classList.remove("active"));
  
  // ç¡®ä¿pauseMenuè¢«éšè—
  const pauseMenu = document.getElementById("pauseMenu");
  if (pauseMenu) {
    pauseMenu.classList.remove("active");
  }
}

// è¯­éŸ³æ¶ˆæ¯å¤„ç†ä¿®å¤
function handleVoiceMessage(data) {
  console.log("ğŸ¤ Received voice message:", data);
  if (data.type === "speech-to-text" && data.message) {
    // é¿å…é‡å¤æ˜¾ç¤ºæœ¬åœ°ç”¨æˆ·æ¶ˆæ¯
    if (data.playerId !== socket?.id) {
      addGameChatMessage("voice", data.message, data.playerName);
    }
  }
}
        </pre>
    </div>
</body>
</html> 